FROM node:22

WORKDIR /app

# Copy shared module to maintain directory structure
COPY shared/ ./shared/

# Copy Back-End files to maintain directory structure
COPY Back-End/ ./Back-End/

# Set working directory to Back-End
WORKDIR /app/Back-End

RUN yarn

CMD ["npm", "test"]