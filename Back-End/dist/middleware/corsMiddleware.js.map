{"version":3,"file":"corsMiddleware.js","sourceRoot":"","sources":["../../middleware/corsMiddleware.ts"],"names":[],"mappings":";;AAEA,MAAM,WAAW,GAAgB;IAC/B,MAAM,EAAE,CACN,MAA0B,EAC1B,QAAsD,EACtD,EAAE;QACF,MAAM,cAAc,GAAG;YACrB,uBAAuB;YACvB,4BAA4B;YAC5B,4BAA4B;YAC5B,2BAA2B;YAC3B,qDAAqD;YACrD,uBAAuB;SACxB,CAAC;QAEF,yEAAyE;QACzE,IAAI,CAAC,MAAM,IAAI,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC;YAC/C,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,QAAQ;QAChC,CAAC;aAAM,CAAC;YACN,QAAQ,CAAC,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,OAAO;QACrD,CAAC;IACH,CAAC;IACD,WAAW,EAAE,IAAI,EAAE,2BAA2B;IAC9C,OAAO,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,CAAC;IACpD,cAAc,EAAE,CAAC,YAAY,CAAC;IAC9B,cAAc,EAAE;QACd,QAAQ;QACR,kBAAkB;QAClB,cAAc;QACd,QAAQ;QACR,eAAe;KAChB;CACF,CAAC;AAEF,kBAAe,WAAW,CAAC","sourcesContent":["import { CorsOptions } from 'cors';\n\nconst corsOptions: CorsOptions = {\n  origin: (\n    origin: string | undefined,\n    callback: (err: Error | null, allow?: boolean) => void,\n  ) => {\n    const allowedOrigins = [\n      'http://localhost:3000',\n      'http://167.71.165.174:3000',\n      'http://159.65.216.141:3000',\n      'https://trackmydegree.com',\n      'chrome-extension://amknoiejhlmhancpahfcfcfhllgkpbld',\n      'https://hoppscotch.io',\n    ];\n\n    // Allow requests with no origin (like Postman or server-to-server calls)\n    if (!origin || allowedOrigins.includes(origin)) {\n      callback(null, true); // Allow\n    } else {\n      callback(new Error('Not allowed by CORS')); // Deny\n    }\n  },\n  credentials: true, // Allow cookies to be sent\n  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\n  exposedHeaders: ['set-cookie'],\n  allowedHeaders: [\n    'Origin',\n    'X-Requested-With',\n    'Content-Type',\n    'Accept',\n    'Authorization',\n  ],\n};\n\nexport default corsOptions;\n"]}