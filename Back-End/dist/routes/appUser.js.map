{"version":3,"file":"appUser.js","sourceRoot":"","sources":["../../routes/appUser.ts"],"names":[],"mappings":"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","sourcesContent":["import HTTP from '@Util/HTTPCodes';\nimport express, { Request, Response } from 'express';\nimport appUserController from '@controllers/appUserController/appUserController';\nimport appUserTypes from '@controllers/appUserController/appUser_types';\n\nconst router = express.Router();\n\nrouter.get('/update', async (req: Request, res: Response) => {\n  const { id, email, password, fullname, degree, type } = req.query as {\n    id: string;\n    email: string;\n    password: string;\n    fullname: string;\n    degree: string;\n    type: appUserTypes.UserType;\n  };\n\n  try {\n    // Validate input\n    if (\n      !id ||\n      !email ||\n      !password ||\n      !fullname ||\n      !degree ||\n      !type ||\n      typeof id !== 'string' ||\n      typeof email !== 'string' ||\n      typeof password !== 'string' ||\n      typeof fullname !== 'string' ||\n      typeof degree !== 'string' ||\n      !Object.values(appUserTypes.UserType).includes(type)\n    ) {\n      res.status(HTTP.BAD_REQUEST).json({\n        error: 'Invalid input.',\n      });\n      return;\n    }\n\n    // Call the service function\n    const updatedAppUser = await appUserController.updateAppUser(\n      id,\n      email,\n      password,\n      fullname,\n      degree,\n      type,\n    );\n\n    // Send success response\n    res.status(HTTP.OK).json({\n      message: 'AppUser updated successfully.',\n      appUser: updatedAppUser,\n    });\n  } catch (error) {\n    // Handle errors from the service\n    if (\n      error instanceof Error &&\n      error.message === 'AppUser with this id does not exist.'\n    ) {\n      res.status(HTTP.FORBIDDEN).json({ error: error.message });\n    } else {\n      const errMsg = 'Internal server error in /appUser/update';\n      console.error(errMsg, error);\n      res.status(HTTP.SERVER_ERR).json({ error: errMsg });\n    }\n  }\n});\n\nrouter.get('/delete', async (req: Request, res: Response) => {\n  const { id } = req.query;\n\n  try {\n    // Validate input\n    if (!id || typeof id !== 'string') {\n      res.status(HTTP.BAD_REQUEST).json({\n        error: 'Invalid input. Please provide id as a string.',\n      });\n      return;\n    }\n\n    // Call the service function\n    await appUserController.deleteAppUser(id);\n\n    // Send success response\n    res.status(HTTP.OK).json({\n      message: 'AppUser deleted successfully.',\n    });\n  } catch (error) {\n    // Handle errors from the service\n    if (\n      error instanceof Error &&\n      error.message === 'AppUser with this id does not exist.'\n    ) {\n      res.status(HTTP.FORBIDDEN).json({ error: error.message });\n    } else {\n      const errMsg = 'Internal server error in /appUser/delete';\n      console.error(errMsg, error);\n      res.status(HTTP.SERVER_ERR).json({ error: errMsg });\n    }\n  }\n});\n\nexport default router;\n"]}