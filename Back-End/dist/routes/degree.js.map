{"version":3,"file":"degree.js","sourceRoot":"","sources":["../../routes/degree.ts"],"names":[],"mappings":"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","sourcesContent":["import HTTP from '@Util/HTTPCodes';\nimport express, { Request, Response } from 'express';\nimport degreeController from '@controllers/degreeController/degreeController';\nimport DegreeXCPController from '@controllers/DegreeXCPController/DegreeXCPController';\nimport CourseXCPController from '@controllers/CourseXCPController/CourseXCPController';\n\nconst DEGREE_NOT_EXIST = 'Degree with this id does not exist.';\nconst router = express.Router();\n\nrouter.post('/create', async (req: Request, res: Response) => {\n  const { id, name, totalCredits } = req.body;\n\n  try {\n    // Validate input\n    if (\n      !id ||\n      !name ||\n      typeof totalCredits !== 'number' ||\n      typeof id !== 'string' ||\n      typeof name !== 'string'\n    ) {\n      res.status(HTTP.BAD_REQUEST).json({\n        error:\n          'Invalid input. Please provide id, name, and totalCredits as a number.',\n      });\n      return;\n    }\n\n    // Call the service function\n    const newDegree = await degreeController.createDegree(\n      id,\n      name,\n      totalCredits,\n    );\n\n    // Send success response\n    res.status(HTTP.CREATED).json({\n      message: 'Degree created successfully.',\n      degree: newDegree,\n    });\n  } catch (error) {\n    // Handle errors from the service\n    if (\n      error instanceof Error &&\n      error.message === 'Degree with this id or name already exists.'\n    ) {\n      res.status(HTTP.FORBIDDEN).json({ error: error.message });\n    } else {\n      const errMsg = 'Internal server error in /degree/create';\n      console.error(errMsg, error);\n      res.status(HTTP.SERVER_ERR).json({ error: errMsg });\n    }\n  }\n});\n\nrouter.get('/read', async (req: Request, res: Response) => {\n  const { id } = req.body;\n\n  try {\n    // Validate input\n    if (!id || typeof id !== 'string') {\n      res.status(HTTP.BAD_REQUEST).json({\n        error: 'Invalid input. Please provide id as a string.',\n      });\n      return;\n    }\n\n    // Call the service function\n    const newDegree = await degreeController.readDegree(id);\n\n    // Send success response\n    res.status(HTTP.OK).json({\n      message: 'Degree read successfully.',\n      degree: newDegree,\n    });\n  } catch (error) {\n    // Handle errors from the service\n    if (error instanceof Error && error.message === DEGREE_NOT_EXIST) {\n      res.status(HTTP.FORBIDDEN).json({ error: error.message });\n    } else {\n      const errMsg = 'Internal server error in /degree/read';\n      console.error(errMsg, error);\n      res.status(HTTP.SERVER_ERR).json({ error: errMsg });\n    }\n  }\n});\n\nrouter.put('/update', async (req: Request, res: Response) => {\n  const { id, name, totalCredits } = req.body;\n\n  try {\n    // Validate input\n    if (\n      !id ||\n      !name ||\n      typeof totalCredits !== 'number' ||\n      typeof id !== 'string' ||\n      typeof name !== 'string'\n    ) {\n      res.status(HTTP.BAD_REQUEST).json({\n        error: 'Invalid input.',\n      });\n      return;\n    }\n\n    // Call the service function\n    const updatedDegree = await degreeController.updateDegree(\n      id,\n      name,\n      totalCredits,\n    );\n\n    // Send success response\n    res.status(HTTP.OK).json({\n      message: 'Degree updated successfully.',\n      degree: updatedDegree,\n    });\n  } catch (error) {\n    // Handle errors from the service\n    if (error instanceof Error && error.message === DEGREE_NOT_EXIST) {\n      res.status(HTTP.FORBIDDEN).json({ error: error.message });\n    } else {\n      const errMsg = 'Internal server error in /degree/update';\n      console.error(errMsg, error);\n      res.status(HTTP.SERVER_ERR).json({ error: errMsg });\n    }\n  }\n});\n\nrouter.post('/delete', async (req: Request, res: Response) => {\n  const { id } = req.body;\n\n  try {\n    // Validate input\n    if (!id || typeof id !== 'string') {\n      res.status(HTTP.BAD_REQUEST).json({\n        error: 'Invalid input. Please provide id as a string.',\n      });\n      return;\n    }\n\n    // Call the service function\n    const newDegree = await degreeController.deleteDegree(id);\n\n    // Send success response\n    res.status(HTTP.OK).json({\n      message: 'Degree deleted successfully.',\n      degree: newDegree,\n    });\n  } catch (error) {\n    // Handle errors from the service\n    if (error instanceof Error && error.message === DEGREE_NOT_EXIST) {\n      res.status(HTTP.FORBIDDEN).json({ error: error.message });\n    } else {\n      const errMsg = 'Internal server error in /degree/delete';\n      console.error(errMsg, error);\n      res.status(HTTP.SERVER_ERR).json({ error: errMsg });\n    }\n  }\n});\n\nrouter.post('/getPools', async (req: Request, res: Response) => {\n  const payload = req.body;\n\n  if (!payload || Object.keys(payload).length < 1) {\n    res\n      .status(HTTP.BAD_REQUEST)\n      .json({ error: 'Degree ID is required to get Course Pools.' });\n\n    return;\n  }\n\n  if (!payload.degree_id) {\n    res\n      .status(HTTP.BAD_REQUEST)\n      .json({ error: 'Payload attributes cannot be empty' });\n\n    return;\n  }\n\n  const { degree_id } = payload;\n\n  try {\n    const result = await DegreeXCPController.getAllDegreeXCP(degree_id);\n\n    if (result && result.course_pools.length > 0) {\n      const { course_pools } = result;\n      let degree_coursepools: Record<string, string[]> = {};\n\n      for (const { id, name } of course_pools) {\n        const pools = Object.keys(degree_coursepools);\n\n        if (!pools.includes(name)) {\n          degree_coursepools[name] = [];\n        }\n\n        const courses_in_pool = await CourseXCPController.getAllCourseXCP(id);\n\n        if (courses_in_pool) {\n          degree_coursepools[name] = courses_in_pool.course_codes;\n        }\n      }\n\n      res.status(HTTP.OK).json(degree_coursepools);\n    } else {\n      res.status(HTTP.NOT_FOUND).json({ error: 'No coursepools found' });\n    }\n  } catch (error) {\n    console.error('Error in /degree/getPools', error);\n    res\n      .status(HTTP.SERVER_ERR)\n      .json({ error: 'Coursepools could not be fetched' });\n  }\n});\n\nrouter.post('/getAllDegrees', async (req: Request, res: Response) => {\n  try {\n    const degrees = await degreeController.readAllDegrees();\n    res.status(HTTP.OK).json({ degrees });\n  } catch (error) {\n    console.error('Error in /degree/getAllDegrees', error);\n    res.status(HTTP.SERVER_ERR).json({ error: 'Internal server error' });\n  }\n});\n\nrouter.post('/getCredits', async (req: Request, res: Response) => {\n  const payload = req.body;\n  if (!payload || Object.keys(payload).length < 1) {\n    res.status(HTTP.BAD_REQUEST).json({ error: 'Degree ID is required' });\n    return;\n  }\n  if (!payload.degree_id) {\n    res\n      .status(HTTP.BAD_REQUEST)\n      .json({ error: 'Payload attributes cannot be empty' });\n    return;\n  }\n  const { degree_id } = payload;\n  try {\n    const result = await degreeController.getCreditsForDegree(degree_id);\n    if (!result) {\n      res.status(HTTP.NOT_FOUND).json({ error: 'Degree not found' });\n      return;\n    }\n    const totalCredits = result;\n    res.status(HTTP.OK).json({ totalCredits });\n  } catch (error) {\n    console.error('Error in /degree/getCredits', error);\n    res.status(HTTP.SERVER_ERR).json({ error: 'Internal server error' });\n  }\n});\n\nexport default router;\n"]}