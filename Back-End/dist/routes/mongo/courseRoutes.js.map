{"version":3,"file":"courseRoutes.js","sourceRoot":"","sources":["../../../routes/mongo/courseRoutes.ts"],"names":[],"mappings":";AAAA;;;;GAIG;;;;;AAEH,qEAAmC;AACnC,sDAAqD;AACrD,6EAAmE;AAEnE,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,6BAA6B;AAC7B,4BAA4B;AAC5B,6BAA6B;AAE7B;;GAEG;AACH,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;IACpD,IAAI,CAAC;QACH,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC;QAEtD,MAAM,OAAO,GAAG,MAAM,qCAAgB,CAAC,aAAa,CAAC;YACnD,IAAI,EAAE,IAAc;YACpB,MAAM,EAAE,MAAgB;YACxB,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAc,CAAC,CAAC,CAAC,CAAC,SAAS;YACjD,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAe,CAAC,CAAC,CAAC,CAAC,SAAS;YACpD,IAAI,EAAE,IAAc;SACrB,CAAC,CAAC;QAEH,GAAG,CAAC,MAAM,CAAC,mBAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;YACvB,OAAO,EAAE,gCAAgC;YACzC,OAAO;SACR,CAAC,CAAC;IACL,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;QAC9C,GAAG,CAAC,MAAM,CAAC,mBAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,uBAAuB,EAAE,CAAC,CAAC;IACvE,CAAC;AACH,CAAC,CAAC,CAAC;AAEH;;GAEG;AACH,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;IACzD,IAAI,CAAC;QACH,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAE5B,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,GAAG,CAAC,MAAM,CAAC,mBAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC;gBAChC,KAAK,EAAE,yBAAyB;aACjC,CAAC,CAAC;YACH,OAAO;QACT,CAAC;QAED,MAAM,MAAM,GAAG,MAAM,qCAAgB,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAC5D,GAAG,CAAC,MAAM,CAAC,mBAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;YACvB,OAAO,EAAE,+BAA+B;YACxC,MAAM;SACP,CAAC,CAAC;IACL,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,6BAA6B,EAAE,KAAK,CAAC,CAAC;QACpD,IAAI,KAAK,YAAY,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC;YAClE,GAAG,CAAC,MAAM,CAAC,mBAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;QAC5D,CAAC;aAAM,CAAC;YACN,GAAG,CAAC,MAAM,CAAC,mBAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,uBAAuB,EAAE,CAAC,CAAC;QACvE,CAAC;IACH,CAAC;AACH,CAAC,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["/**\n * Course Routes\n *\n * Handles course operations (read-only)\n */\n\nimport HTTP from '@Util/HTTPCodes';\nimport express, { Request, Response } from 'express';\nimport { courseController } from '@controllers/mondoDBControllers';\n\nconst router = express.Router();\n\n// ==========================\n// COURSE ROUTES (READ ONLY)\n// ==========================\n\n/**\n * GET /courses - Get all courses\n */\nrouter.get('/', async (req: Request, res: Response) => {\n  try {\n    const { pool, search, page, limit, sort } = req.query;\n\n    const courses = await courseController.getAllCourses({\n      pool: pool as string,\n      search: search as string,\n      page: page ? parseInt(page as string) : undefined,\n      limit: limit ? parseInt(limit as string) : undefined,\n      sort: sort as string,\n    });\n\n    res.status(HTTP.OK).json({\n      message: 'Courses retrieved successfully',\n      courses,\n    });\n  } catch (error) {\n    console.error('Error in GET /courses', error);\n    res.status(HTTP.SERVER_ERR).json({ error: 'Internal server error' });\n  }\n});\n\n/**\n * GET /courses/:code - Get course by code\n */\nrouter.get('/:code', async (req: Request, res: Response) => {\n  try {\n    const { code } = req.params;\n\n    if (!code) {\n      res.status(HTTP.BAD_REQUEST).json({\n        error: 'Course code is required',\n      });\n      return;\n    }\n\n    const course = await courseController.getCourseByCode(code);\n    res.status(HTTP.OK).json({\n      message: 'Course retrieved successfully',\n      course,\n    });\n  } catch (error) {\n    console.error('Error in GET /courses/:code', error);\n    if (error instanceof Error && error.message.includes('not found')) {\n      res.status(HTTP.NOT_FOUND).json({ error: error.message });\n    } else {\n      res.status(HTTP.SERVER_ERR).json({ error: 'Internal server error' });\n    }\n  }\n});\n\nexport default router;\n"]}